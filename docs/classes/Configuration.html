<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Configuration - a-configuration</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="a-configuration" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.1.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/Configuration.html">Configuration</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/a-configuration.html">a-configuration</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1>Configuration Class</h1>
<div class="box meta">


        <div class="foundat">
            Defined in: <a href="../files/lib_index.js.html#l3"><code>lib\index.js:3</code></a>
        </div>

            Module: <a href="../modules/a-configuration.html">a-configuration</a>

</div>


<div class="box intro">
    <p>Configurations load in 2 stages.</p>
<p>The first stage is a blocking file read to provide base data for the application and base configurations
as described by the system.</p>
<p>The second stage is to load data from extended data sources in a non-blocking fashion. A <code>_await</code>
property is provided as a Promise to allow for waiting for the full configuration load if desired.</p>
<p>Note that as this extends an EventEmitter, colliding key names should be avoided, such as &quot;on&quot; and
&quot;once&quot;. Due to the nature of the EventEmitter properties and for simplicity, Configuration merely
extends the EventEmitter class so that <code>configuration.on</code> and similar methods are simply available
without needing to remember referencing such as <code>configuration._events.on</code>, however the extended
event emitted is also available as _events to allow for key collision if needed.</p>
<p>Additionally, this module binds a listener to the &quot;SIGHUP&quot; Process Event to trigger configuration
reload events.</p>

</div>


<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
            <li class="api-class-tab events"><a href="#events">Events</a></li>
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                            <li class="index-item method">
                                <a href="#method__reload">_reload</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_getExt">getExt</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_initialized.failure">initialized.failure</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_initialized.success">initialized.success</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_isLocked">isLocked</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_loadConfigurations">loadConfigurations</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_loadFailed">loadFailed</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_loadFailed">loadFailed</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_loadFile">loadFile</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_readJSON">readJSON</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_resolveConfiguration">resolveConfiguration</a>

                            </li>
                    </ul>
                </div>

                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                            <li class="index-item property">
                                <a href="#property__await">_await</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property__emitter">_emitter</a>

                            </li>
                            <li class="index-item property private">
                                <a href="#property__events">_events</a>

                            </li>
                            <li class="index-item property private">
                                <a href="#property_loaded">loaded</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_reloading">reloading</a>

                            </li>
                    </ul>
                </div>


                <div class="index-section events">
                    <h3>Events</h3>

                    <ul class="index-list events">
                            <li class="index-item event">
                                <a href="#event_failed">failed</a>

                            </li>
                            <li class="index-item event">
                                <a href="#event_loaded">loaded</a>

                            </li>
                    </ul>
                </div>
        </div>

            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

<div id="method__reload" class="method item">
    <h3 class="name"><code>_reload</code></h3>

        <span class="paren">()</span>

        <span class="returns-inline">
            <span class="type">Promise</span>
        </span>







    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l334"><code>lib\index.js:334</code></a>
        </p>



    </div>

    <div class="description">
        <p>Update the configurations.</p>
<p>This will cause all configuration sources to be read again and then applied
over the current configuration. Which will change values that exist but will
in general not delete values.</p>
<p>Specifically this will not remove values at the first, or second level due to
the way in which the configurations are assembled. Keys at the third level or
deeper will fall off <em>IF</em> the second level key has an update applied.</p>

    </div>


        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                        <span class="type">Promise</span>:
                    <p>Resolves with the final status of the configuration loading;
See: &quot;loaded&quot; and &quot;error&quot; events.</p>

            </div>
        </div>


</div>
<div id="method_getExt" class="method item private">
    <h3 class="name"><code>getExt</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>path</code>
                </li>
            </ul><span class="paren">)</span>
        </div>

        <span class="returns-inline">
            <span class="type">Boolean</span>
        </span>


        <span class="flag private">private</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l111"><code>lib\index.js:111</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">path</code>
                        <span class="type">String</span>


                    <div class="param-description">
                        <p>File name or complete file path.</p>

                    </div>

                </li>
            </ul>
        </div>

        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                        <span class="type">Boolean</span>:
            </div>
        </div>


</div>
<div id="method_initialized.failure" class="method item private">
    <h3 class="name"><code>initialized.failure</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>exception</code>
                </li>
            </ul><span class="paren">)</span>
        </div>



        <span class="flag private">private</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l69"><code>lib\index.js:69</code></a>
        </p>



    </div>

    <div class="description">
        <p>Called if the first completion of the second load stage resulted in an exception.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">exception</code>
                        <span class="type">Error</span>


                    <div class="param-description">
                        <p>The thrown exception</p>

                    </div>

                </li>
            </ul>
        </div>



</div>
<div id="method_initialized.success" class="method item private">
    <h3 class="name"><code>initialized.success</code></h3>

        <span class="paren">()</span>



        <span class="flag private">private</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l64"><code>lib\index.js:64</code></a>
        </p>



    </div>

    <div class="description">
        <p>Called after the first completion of the second load stage.</p>

    </div>




</div>
<div id="method_isLocked" class="method item">
    <h3 class="name"><code>isLocked</code></h3>

        <span class="paren">()</span>

        <span class="returns-inline">
            <span class="type">Boolean</span>
        </span>







    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l321"><code>lib\index.js:321</code></a>
        </p>



    </div>

    <div class="description">
        <p>Indicate if the configuration module is currently updating.</p>
<p>This currently responds to the following states:</p>
<ul>
<li>reloading</li>
</ul>

    </div>


        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                        <span class="type">Boolean</span>:
            </div>
        </div>


</div>
<div id="method_loadConfigurations" class="method item private">
    <h3 class="name"><code>loadConfigurations</code></h3>

        <span class="paren">()</span>



        <span class="flag private">private</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l166"><code>lib\index.js:166</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>




</div>
<div id="method_loadFailed" class="method item private">
    <h3 class="name"><code>loadFailed</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>exception</code>
                </li>
            </ul><span class="paren">)</span>
        </div>

        <span class="returns-inline">
            <span class="type">Promise</span>
        </span>


        <span class="flag private">private</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l122"><code>lib\index.js:122</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">exception</code>
                        <span class="type">Error</span>


                    <div class="param-description">
                         
                    </div>

                </li>
            </ul>
        </div>

        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                        <span class="type">Promise</span>:
            </div>
        </div>


</div>
<div id="method_loadFailed" class="method item">
    <h3 class="name"><code>loadFailed</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>exception</code>
                </li>
            </ul><span class="paren">)</span>
        </div>

        <span class="returns-inline">
            <span class="type">Promise</span>
        </span>







    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l144"><code>lib\index.js:144</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">exception</code>
                        <span class="type">Error</span>


                    <div class="param-description">
                         
                    </div>

                </li>
            </ul>
        </div>

        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                        <span class="type">Promise</span>:
            </div>
        </div>


</div>
<div id="method_loadFile" class="method item private">
    <h3 class="name"><code>loadFile</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>file</code>
                </li>
            </ul><span class="paren">)</span>
        </div>



        <span class="flag private">private</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l174"><code>lib\index.js:174</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">file</code>
                        <span class="type">String</span>


                    <div class="param-description">
                        <p>Filename to load.</p>

                    </div>

                </li>
            </ul>
        </div>



</div>
<div id="method_readJSON" class="method item private">
    <h3 class="name"><code>readJSON</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>path</code>
                </li>
            </ul><span class="paren">)</span>
        </div>

        <span class="returns-inline">
            <span class="type">Object</span>
        </span>


        <span class="flag private">private</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l89"><code>lib\index.js:89</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">path</code>
                        <span class="type">String</span>


                    <div class="param-description">
                         
                    </div>

                </li>
            </ul>
        </div>

        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                        <span class="type">Object</span>:
            </div>
        </div>


</div>
<div id="method_resolveConfiguration" class="method item private">
    <h3 class="name"><code>resolveConfiguration</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>conf</code>
                </li>
            </ul><span class="paren">)</span>
        </div>



        <span class="flag private">private</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l212"><code>lib\index.js:212</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">conf</code>
                        <span class="type">Object</span>


                    <div class="param-description">
                        <p>Configuration to resolve against the current export.</p>

                    </div>

                </li>
            </ul>
        </div>



</div>
            </div>

            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

<div id="property__await" class="property item">
    <h3 class="name"><code>_await</code></h3>
    <span class="type">Promise</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l77"><code>lib\index.js:77</code></a>
        </p>


    </div>

    <div class="description">
        <p>Called after the first completion of the second load stage.</p>

    </div>



</div>
<div id="property__emitter" class="property item">
    <h3 class="name"><code>_emitter</code></h3>
    <span class="type">EventEmitter</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l36"><code>lib\index.js:36</code></a>
        </p>


    </div>

    <div class="description">
        <p>Provides a reference to the extended event emitter to allow for key collisions
off of the configuration object itself.</p>

    </div>



</div>
<div id="property__events" class="property item private">
    <h3 class="name"><code>_events</code></h3>
    <span class="type">Object</span>


        <span class="flag private">private</span>



    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l44"><code>lib\index.js:44</code></a>
        </p>


    </div>

    <div class="description">
        <p>Maps event names to their current name for consistency.</p>

    </div>



</div>
<div id="property_loaded" class="property item private">
    <h3 class="name"><code>loaded</code></h3>
    <span class="type">Object</span>


        <span class="flag private">private</span>



    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l55"><code>lib\index.js:55</code></a>
        </p>


    </div>

    <div class="description">
        <p>Tracks included javascript file configurations so that reloads can be triggered
via their functional invocations.</p>

    </div>



</div>
<div id="property_reloading" class="property item">
    <h3 class="name"><code>reloading</code></h3>
    <span class="type">Boolean</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_index.js.html#l312"><code>lib\index.js:312</code></a>
        </p>


    </div>

    <div class="description">
        <p>When true, the configuration is updating its values. This does not block
the values from being used, but does indicate that the module is busy and
operations that would cause further updates should be blocked.</p>

    </div>



</div>
            </div>


            <div id="events" class="api-class-tabpanel">
                <h2 class="off-left">Events</h2>

                    <div id="event_failed" class="events item">
                        <h3 class="name"><code>failed</code></h3>
                        <span class="type"></span>
                    
                    
                    
                    
                    
                        <div class="meta">
                                    <p>
                                    Defined in
                            <a href="../files/lib_index.js.html#l151"><code>lib\index.js:151</code></a>
                            </p>
                    
                    
                        </div>
                    
                        <div class="description">
                            <p>Thrown in the case of an error in any stage.</p>
                    
                        </div>
                    
                            <div class="params">
                                <h4>Event Payload:</h4>
                    
                                <ul class="params-list">
                                    <li class="param">
                                            <code class="param-name">conf</code>
                                            <span class="type"><a href="../classes/Configuration.html" class="crosslink">Configuration</a></span>
                    
                    
                                        <div class="param-description">
                                            <p>This configuration that finished loading.</p>
                    
                                        </div>
                    
                                    </li>
                                    <li class="param">
                                            <code class="param-name">error</code>
                                            <span class="type">Error</span>
                    
                    
                                        <div class="param-description">
                                            <p>Thrown exception</p>
                    
                                        </div>
                    
                                    </li>
                                </ul>
                            </div>
                    
                    
                    </div>
                    <div id="event_loaded" class="events item">
                        <h3 class="name"><code>loaded</code></h3>
                        <span class="type"></span>
                    
                    
                    
                    
                    
                        <div class="meta">
                                    <p>
                                    Defined in
                            <a href="../files/lib_index.js.html#l130"><code>lib\index.js:130</code></a>
                            </p>
                    
                    
                        </div>
                    
                        <div class="description">
                            
                        </div>
                    
                            <div class="params">
                                <h4>Event Payload:</h4>
                    
                                <ul class="params-list">
                                    <li class="param">
                                            <code class="param-name">conf</code>
                                            <span class="type"><a href="../classes/Configuration.html" class="crosslink">Configuration</a></span>
                    
                    
                                        <div class="param-description">
                                            <p>This configuration that finished loading.</p>
                    
                                        </div>
                    
                                    </li>
                                </ul>
                            </div>
                    
                    
                    </div>
            </div>
    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
